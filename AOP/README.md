# AOP

更加详细的参考资料：[AOP的实现机制](http://kiral.iteye.com/blog/1198982)


AOP，面向切面编程，可以通过预编译方式和运行期动态代理实现在不修改源代码的情况下给程序动态统一添加功能的一种技术。AOP实际是GoF设计模式的延续，设计模式孜孜不倦追求的是调用者和被调用者之间的解耦,提高代码的灵活性和可扩展性，AOP可以说也是这种目标的一种实现。

利用AOP可以对业务逻辑的各个部分进行隔离，从而使得业务逻辑各部分之间的耦合度降低，提高程序的可重用性，同时提高了开发的效率。


## AOP的相关术语:
1.通知(Advice):
通知定义了切面是什么以及何时使用。描述了切面要完成的工作和何时需要执行这个工作。

2.连接点(Joinpoint):
程序能够应用通知的一个“时机”，这些“时机”就是连接点，例如方法被调用时、异常被抛出时等等。

3.切入点(Pointcut)
通知定义了切面要发生的“故事”和时间，那么切入点就定义了“故事”发生的地点，例如某个类或方法的名称，spring中允许我们方便的用正则表达式来指定
4.切面(Aspect)
通知和切入点共同组成了切面：时间、地点和要发生的“故事”

5.引入(Introduction)
引入允许我们向现有的类添加新的方法和属性(Spring提供了一个方法注入的功能）

6.目标(Target)
即被通知的对象，如果没有AOP,那么它的逻辑将要交叉别的事务逻辑，有了AOP之后它可以只关注自己要做的事（AOP让他做爱做的事）

7.代理(proxy)
应用通知的对象，详细内容参见设计模式里面的代理模式

8.织入(Weaving)
把切面应用到目标对象来创建新的代理对象的过程，织入一般发生在如下几个时机:

(1)编译时：当一个类文件被编译时进行织入，这需要特殊的编译器才可以做的到，例如AspectJ的织入编译器

(2)类加载时：使用特殊的ClassLoader在目标类被加载到程序之前增强类的字节代码

(3)运行时：切面在运行的某个时刻被织入,SpringAOP就是以这种方式织入切面的，原理应该是使用了JDK的动态代理技术


最常见的一些横切行为如下面这些：

* 日志记录，跟踪，优化和监控
* 事务的处理
* 持久化
* 性能的优化
* 资源池，如数据库连接池的管理
* 系统统一的认证、权限管理等
* 应用系统的异常捕捉及处理
* 针对具体行业应用的横切行为


## AOP实现项目

AOP 是一个概念，一个规范，本身并没有设定具体语言的实现，它能克服那些只有单继承特性语言的缺点（如Java），这实际上提供了非常广阔的发展的空间，AOP具体实现有以下几个项目：

1.AspectJ (TM)： 创建于Xerox PARC. 有近十年历史，成熟。
缺点：过于复杂；破坏封装；需要专门的Java编译器。

2.动态AOP：使用JDK的动态代理API或字节码Bytecode处理技术。
基于动态代理API的具体项目有：
JBoss 4.0 JBoss 4.0服务器

3.基于字节码的项目有：
aspectwerkz ，spring

ASM


## 参考资料

1. [我对AOP的理解](http://jinnianshilongnian.iteye.com/blog/1474325)

2. [百度百科](http://baike.baidu.com/link?url=BgiWbUw1plDLxy9b8PH5GHuZyPOZIajzY3wP4VnL6QbeXlPkKcuzhenJcrQTYbg1xmX66RzNV0nW074V0cvaIa)



